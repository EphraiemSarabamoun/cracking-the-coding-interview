Keep a visited set. Use that to keep track of visited sites to prevent infinite loops.